(function(e){function t(t){for(var r,s,l=t[0],c=t[1],u=t[2],d=0,h=[];d<l.length;d++)s=l[d],i[s]&&h.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);a&&a(t);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-video-player/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var a=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"15f1":function(e,t,n){},4571:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("light-video",{attrs:{videoOptions:{src:"https://vjs.zencdn.net/v/oceans.mp4",size:[500,500]}},on:{hide:function(t){e.vcShow=!1}}})],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showVideo?n("div",{staticClass:"video-container",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelFullScreen(t)}}},[n("div",{ref:"videoPlayer",staticClass:"controls",attrs:{id:"player"}},[n("video",{ref:"videoTag",style:e.videoArea,attrs:{src:e.videoOptions.src},on:{click:e.handleClickPlay}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showControls,expression:"showControls"}],staticClass:"wc-controls"},[n("div",{on:{click:function(t){return t.stopPropagation(),e.handleClickPlay(t)}}},[n("hover-item",{attrs:{name:e.playButton}})],1),n("progress-bar",{staticClass:"progress-bar",attrs:{progressOptions:{height:4,borderRadius:2},percent:e.currentTimePercent},on:{drag:e.modifyTime}}),n("div",{staticClass:"show-time"},[e._v(e._s(e.showTime))]),n("div",{ref:"volumeButton",staticClass:"wc-volume"},[n("div",{on:{click:function(t){return t.stopPropagation(),e.handleClickVolume(t)}}},[n("hover-item",{attrs:{name:e.volumeButton}})],1),n("progress-bar",{directives:[{name:"show",rawName:"v-show",value:e.volumeHover,expression:"volumeHover"}],staticClass:"volume-progress-bar",attrs:{progressOptions:{height:100,borderRadius:2,vertical:!0,width:4},percent:e.currentVolume},on:{drag:e.modifyVolume}})],1),n("div",{on:{click:function(t){return t.stopPropagation(),e.handleClickFullscreen(t)}}},[n("hover-item",{attrs:{name:e.fullScreenButton}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showControls,expression:"!showControls"}],staticClass:"hideBar"},[n("div",{staticClass:"hideBarDetail",style:e.hideProgressBar})])])]):e._e()},l=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("svg",{staticClass:"icon hover-item",class:e.name,attrs:{"aria-hidden":!0}},[n("use",{attrs:{"xlink:href":"#icon-"+e.name}})])])},u=[],a={name:"hover-item",props:["name"],mounted:function(){if(!document.getElementById("my-icon")){var e=document.createElement("script");e.src="//at.alicdn.com/t/font_1369087_unw9gqaalo.js",e.id="my-icon",document.getElementsByTagName("head")[0].appendChild(e)}}},d=a,h=(n("a4b4"),n("2877")),m=Object(h["a"])(d,c,u,!1,null,"04ad87c1",null),p=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"progress",staticClass:"progress-wrap",on:{mousedown:function(t){return e.dragProcess(t)}}},[n("div",{ref:"progressWrap",staticClass:"progress",style:e.progressStyle},[n("div",{staticClass:"current-progress",style:e.progress},[n("div",{staticClass:"ball",style:e.ballStyle})])])])},f=[],g=(n("c5f6"),{props:{progressOptions:{type:Object,required:!0,default:function(){return{height:100,borderRadius:2,vertical:!0,width:4}}},percent:{type:[String,Number],required:!1,default:0}},data:function(){return{clientReact:{},modifyNum:0,isDragProcess:!1}},mounted:function(){this.handleEvent()},methods:{dragProcess:function(e){var t;this.progressOptions.vertical?(t=this.$refs.progressWrap.getClientRects()[0].bottom-e.clientY,t=t>0?t>this.$refs.progressWrap.clientHeight?this.$refs.progressWrap.clientHeight:t:0,this.modifyNum=t/this.$refs.progressWrap.clientHeight):(t=e.screenX-this.$refs.progressWrap.getClientRects()[0].x,t=t>0?t>this.$refs.progressWrap.clientWidth?this.$refs.progressWrap.clientWidth:t:0,this.modifyNum=t/this.$refs.progressWrap.clientWidth),this.isDragProcess=!0,this.$emit("drag",this.modifyNum)},handleEvent:function(){var e=this;document.addEventListener("mouseup",function(){e.isDragProcess=!1})}},computed:{ballStyle:function(){var e={width:"".concat(2*this.progressOptions.height,"px"),height:"".concat(2*this.progressOptions.height,"px"),right:"-".concat(this.progressOptions.height,"px"),top:"-".concat(this.progressOptions.height/2,"px")};return this.progressOptions.vertical&&(e={width:"".concat(2*this.progressOptions.width,"px"),height:"".concat(2*this.progressOptions.width,"px"),right:"-".concat(this.progressOptions.width/2,"px"),top:"-".concat(this.progressOptions.width/2,"px")}),e},progress:function(){return this.percent&&this.progressOptions.vertical?{width:"4px",height:"".concat(100*this.percent,"%")}:this.percent?{width:"".concat(100*Number(this.percent),"%")}:0},progressStyle:function(){var e={width:"".concat(this.progressOptions.width,"px"),height:"".concat(this.progressOptions.height,"px"),borderRadius:"".concat(this.progressOptions.borderRadius,"px")};return this.progressOptions.vertical&&(e["justify-content"]="center",e["align-items"]="flex-end"),e}},watch:{isDragProcess:function(e){!0===e?document.addEventListener("mousemove",this.dragProcess):!1===e&&document.removeEventListener("mousemove",this.dragProcess)}}}),w=g,y=(n("d023"),Object(h["a"])(w,v,f,!1,null,null,null)),b=y.exports,F={components:{progressBar:b,hoverItem:p},props:{videoOptions:{type:Object,required:!0}},data:function(){return{showVideo:!1,showPlay:!0,showFullScreen:!0,FullscreenApi:{},full:void 0,video:null,videoPlayer:null,isDragProcess:!1,showControls:!1,currentTime:0,videoTime:0,videoVolume:0,videoMemoryVolume:0,volumeHover:!1,hideVolumeBarTimer:null,showTimeBarTimer:null,wrapX:0,volumeButton:"volume",playButton:"play",fullScreenButton:"fullscreen"}},computed:{hideProgressBar:function(){return{width:"".concat(100*this.currentTimePercent,"%")}},currentVolume:function(){return this.videoVolume},currentTimePercent:function(){return this.videoTime?this.currentTime/this.videoTime:0},showTime:function(){return"".concat(this.timeFormate(this.currentTime)," / ").concat(this.timeFormate(this.videoTime))},videoArea:function(){return!!this.showFullScreen&&{}}},created:function(){this.getFullScreenApi()},mounted:function(){var e=this;this.handleEvent(),this.videoPlayer=this.$refs.videoPlayer,this.showVideo=!0,this.$nextTick(function(){e.video=e.$refs.videoTag,e.videoVolume=e.video.volume,e.videoHandle()})},methods:{videoHandle:function(){var e=this;this.$refs.videoPlayer.addEventListener("mousemove",function(){e.showControls=!0,clearTimeout(e.showControlsTimer),e.showControlsTimer=setTimeout(function(){e.showControls=!1},3e3)}),this.video.addEventListener("loadeddata",function(){e.videoTime=e.video.duration}),this.video.addEventListener("timeupdate",function(){e.currentTime=e.video.currentTime}),this.video.addEventListener("volumechange",function(){e.videoVolume=e.video.volume}),this.$refs.volumeButton.addEventListener("mouseenter",function(){e.volumeHover=!0}),this.$refs.volumeButton.addEventListener("mouseleave",function(){e.volumeHover&&(clearTimeout(e.hideVolumeBarTimer),e.hideVolumeBarTimer=setTimeout(function(){e.volumeHover=!1},500))}),document.addEventListener(this.FullscreenApi.fullscreenchange,this.exitHandler)},handleClickVolume:function(){0!==this.video.volume?(this.videoMemoryVolume=this.video.volume,this.video.volume=0,this.volumeButton="volume-x"):(this.video.volume=this.videoMemoryVolume,this.volumeButton="volume")},handleClickPlay:function(){var e=this;if("play"===this.playButton){var t=this.video.play();void 0!==t&&t.catch(function(){e.video.pause()}),this.playButton="stop"}else this.video.pause(),this.playButton="play"},handleClickFullscreen:function(){"fullscreen"===this.fullScreenButton?(this.fullScreen(),this.fullScreenButton="fullscreenexit"):(this.cancelFullScreen(),this.fullScreenButton="fullscreen")},modifyVolume:function(e){this.videoVolume=e,this.video.volume=e},modifyTime:function(e){this.video.currentTime=e*this.videoTime},handleEvent:function(){var e=this;document.addEventListener("mouseup",function(){e.isDragProcess=!1}),document.addEventListener("mousemove",this.handleMouseMove)},timeFormate:function(e){var t=Math.floor(e),n=t%60;n=n>=10?n:"0"+n;var r=Math.floor(t/60);return r=r>=10?r:"0"+r,"".concat(r,":").concat(n)},handleMouseMove:function(){var e=this;this.showTimeBar=!0,clearTimeout(this.showTimeBarTimer),this.showTimeBarTimer=setTimeout(function(){e.showTimeBar=!1},3e3)},getFullScreenApi:function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=document,n=e[0],r=void 0,i=0;i<e.length;i++)if(e[i][1]in t){r=e[i];break}if(r)for(var o=0;o<r.length;o++)this.FullscreenApi[n[o]]=r[o]},getfullscreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.documentElement;return e?t[this.FullscreenApi.requestFullscreen]:(t=document,t[this.FullscreenApi.exitFullscreen])},fullScreen:function(){document.documentElement[this.FullscreenApi.requestFullscreen].call(this.$refs.videoPlayer),this.showFullScreen=!1},cancelFullScreen:function(){document[this.FullscreenApi.exitFullscreen].call(document),this.showFullScreen=!0},exitHandler:function(){document[this.FullscreenApi.fullscreenElement]||(this.showFullScreen=!0)}}},T=F,E=(n("7291"),Object(h["a"])(T,s,l,!1,null,"1d58269e",null)),x=E.exports,C={name:"app",components:{lightVideo:x}},S=C,O=(n("034f"),Object(h["a"])(S,i,o,!1,null,null,null)),k=O.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(k)}}).$mount("#app")},"64a9":function(e,t,n){},7291:function(e,t,n){"use strict";var r=n("15f1"),i=n.n(r);i.a},a4b4:function(e,t,n){"use strict";var r=n("4571"),i=n.n(r);i.a},d023:function(e,t,n){"use strict";var r=n("eb0b"),i=n.n(r);i.a},eb0b:function(e,t,n){}});
//# sourceMappingURL=app.1431a8e7.js.map